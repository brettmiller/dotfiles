# setup git management of dotfiles and other files/directories used across computers
#

# aliases to allow managing files in $HOME without having .git in $HOME/
alias dotfiles="git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME"
alias dtf="git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME"

# set git not to show untracked files in `git status`
dotfiles config --local status.showUntrackedFiles no

# autocomplete
compdef _precommand dotfiles dtf

# update
dotfiles pull 

# update submodules (OMZ plugins, vim Vundles, etc) using --merge (keeps from ending up with detached HEAD) - run in a subshell so it's quiet
# ( dotfiles submodule foreach git pull >/dev/null & )
( dotfiles submodule update --remote --recursive --merge >/dev/null & )
